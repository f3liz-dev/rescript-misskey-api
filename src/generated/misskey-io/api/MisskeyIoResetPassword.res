// misskey-io API for reset password
// Generated by @f3liz/rescript-autogen-openapi
// DO NOT EDIT - This file is auto-generated



type postRequestResetPasswordRequest = {
  username: string,
  email: string,
}

let postRequestResetPasswordRequestSchema = S.object(s => {
    username: s.field("username", S.string),
    email: s.field("email", S.string),
  })

type postRequestResetPasswordResponse = unit

/**
 * request-reset-password
 *
 * Request a users password to be reset.
 *
 * **Credential required**: *No*
 */
let postRequestResetPassword = (~body: postRequestResetPasswordRequest, ~fetch: (~url: string, ~method_: string, ~body: option<JSON.t>) => Promise.t<JSON.t>): promise<postRequestResetPasswordResponse> => {
  let jsonBody = body->S.reverseConvertToJsonOrThrow(postRequestResetPasswordRequestSchema)
  fetch(
    ~url="/request-reset-password",
    ~method_="POST",
    ~body=Some(jsonBody),
  )->Promise.then(response => {
  let _ = response
  ()
    ->Promise.resolve
  })
}

type postResetPasswordRequest = {
  token: string,
  password: string,
}

let postResetPasswordRequestSchema = S.object(s => {
    token: s.field("token", S.string),
    password: s.field("password", S.string),
  })

type postResetPasswordResponse = unit

/**
 * reset-password
 *
 * Complete the password reset that was previously requested.
 *
 * **Credential required**: *No*
 */
let postResetPassword = (~body: postResetPasswordRequest, ~fetch: (~url: string, ~method_: string, ~body: option<JSON.t>) => Promise.t<JSON.t>): promise<postResetPasswordResponse> => {
  let jsonBody = body->S.reverseConvertToJsonOrThrow(postResetPasswordRequestSchema)
  fetch(
    ~url="/reset-password",
    ~method_="POST",
    ~body=Some(jsonBody),
  )->Promise.then(response => {
  let _ = response
  ()
    ->Promise.resolve
  })
}
