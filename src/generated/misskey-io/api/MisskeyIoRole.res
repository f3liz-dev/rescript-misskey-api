// misskey-io API for role
// Generated by @f3liz/rescript-autogen-openapi
// DO NOT EDIT - This file is auto-generated

S.enableJson()


type postRolesListResponse = array<MisskeyIoComponentSchemas.Role.t>

let postRolesListResponseSchema = S.array(MisskeyIoComponentSchemas.Role.schema)

/**
roles/list

No description provided.

**Credential required**: *Yes* / **Permission**: *read:account*
*/
let postRolesList = async (~fetch: (~url: string, ~method_: string, ~body: option<JSON.t>) => Promise.t<JSON.t>): postRolesListResponse => {

  let response = await fetch(
    ~url="/roles/list",
    ~method_="POST",
    ~body=None,
  )
  response->S.parseOrThrow(postRolesListResponseSchema)
}

type postRolesNotesRequest = {
  roleId: string,
  limit: option<int>,
  sinceId: option<string>,
  untilId: option<string>,
  sinceDate: option<int>,
  untilDate: option<int>,
  dimension: option<int>,
}

let postRolesNotesRequestSchema = S.object(s => {
    roleId: s.field("roleId", S.string),
    limit: s.field("limit", S.option(S.int->S.min(1)->S.max(100))),
    sinceId: s.field("sinceId", S.option(S.string)),
    untilId: s.field("untilId", S.option(S.string)),
    sinceDate: s.field("sinceDate", S.option(S.int)),
    untilDate: s.field("untilDate", S.option(S.int)),
    dimension: s.field("dimension", S.option(S.int->S.min(0))),
  })

type postRolesNotesResponse = array<MisskeyIoComponentSchemas.Note.t>

let postRolesNotesResponseSchema = S.array(MisskeyIoComponentSchemas.Note.schema)

/**
roles/notes

No description provided.

**Credential required**: *Yes* / **Permission**: *read:account*
*/
let postRolesNotes = async (~body: postRolesNotesRequest, ~fetch: (~url: string, ~method_: string, ~body: option<JSON.t>) => Promise.t<JSON.t>): postRolesNotesResponse => {
  let jsonBody = body->S.reverseConvertToJsonOrThrow(postRolesNotesRequestSchema)
  let response = await fetch(
    ~url="/roles/notes",
    ~method_="POST",
    ~body=Some(jsonBody),
  )
  response->S.parseOrThrow(postRolesNotesResponseSchema)
}

type postRolesShowRequest = {
  roleId: string,
}

let postRolesShowRequestSchema = S.object(s => {
    roleId: s.field("roleId", S.string),
  })

type postRolesShowResponse = MisskeyIoComponentSchemas.Role.t

let postRolesShowResponseSchema = MisskeyIoComponentSchemas.Role.schema

/**
roles/show

No description provided.

**Credential required**: *No*
*/
let postRolesShow = async (~body: postRolesShowRequest, ~fetch: (~url: string, ~method_: string, ~body: option<JSON.t>) => Promise.t<JSON.t>): postRolesShowResponse => {
  let jsonBody = body->S.reverseConvertToJsonOrThrow(postRolesShowRequestSchema)
  let response = await fetch(
    ~url="/roles/show",
    ~method_="POST",
    ~body=Some(jsonBody),
  )
  response->S.parseOrThrow(postRolesShowResponseSchema)
}

type postRolesUsersRequest = {
  roleId: string,
  sinceId: option<string>,
  untilId: option<string>,
  limit: option<int>,
}

let postRolesUsersRequestSchema = S.object(s => {
    roleId: s.field("roleId", S.string),
    sinceId: s.field("sinceId", S.option(S.string)),
    untilId: s.field("untilId", S.option(S.string)),
    limit: s.field("limit", S.option(S.int->S.min(1)->S.max(100))),
  })

type postRolesUsersResponse_1 = {
  id: string,
  user: MisskeyIoComponentSchemas.UserDetailed.t,
}

type postRolesUsersResponse = array<postRolesUsersResponse_1>

let postRolesUsersResponse_1Schema = S.object(s => {
    id: s.field("id", S.string),
    user: s.field("user", MisskeyIoComponentSchemas.UserDetailed.schema),
  })

let postRolesUsersResponseSchema = S.array(postRolesUsersResponse_1Schema)

/**
roles/users

No description provided.

**Credential required**: *No*
*/
let postRolesUsers = async (~body: postRolesUsersRequest, ~fetch: (~url: string, ~method_: string, ~body: option<JSON.t>) => Promise.t<JSON.t>): postRolesUsersResponse => {
  let jsonBody = body->S.reverseConvertToJsonOrThrow(postRolesUsersRequestSchema)
  let response = await fetch(
    ~url="/roles/users",
    ~method_="POST",
    ~body=Some(jsonBody),
  )
  response->S.parseOrThrow(postRolesUsersResponseSchema)
}
