// misskey-io API for flash
// Generated by @f3liz/rescript-autogen-openapi
// DO NOT EDIT - This file is auto-generated

S.enableJson()


type postFlashCreateRequest = {
  title: string,
  summary: string,
  script: string,
  permissions: array<string>,
  visibility: option<string>,
}

let postFlashCreateRequestSchema = S.object(s => {
    title: s.field("title", S.string),
    summary: s.field("summary", S.string),
    script: s.field("script", S.string),
    permissions: s.field("permissions", S.array(S.string)),
    visibility: s.field("visibility", S.option(S.string)),
  })

type postFlashCreateResponse = MisskeyIoComponentSchemas.Flash.t

let postFlashCreateResponseSchema = MisskeyIoComponentSchemas.Flash.schema

/**
flash/create

No description provided.

**Credential required**: *Yes* / **Permission**: *write:flash*
*/
let postFlashCreate = async (~body: postFlashCreateRequest, ~fetch: (~url: string, ~method_: string, ~body: option<JSON.t>) => Promise.t<JSON.t>): postFlashCreateResponse => {
  let jsonBody = body->S.reverseConvertToJsonOrThrow(postFlashCreateRequestSchema)
  let response = await fetch(
    ~url="/flash/create",
    ~method_="POST",
    ~body=Some(jsonBody),
  )
  response->S.parseOrThrow(postFlashCreateResponseSchema)
}

type postFlashFeaturedRequest = {
  offset: option<int>,
  limit: option<int>,
}

let postFlashFeaturedRequestSchema = S.object(s => {
    offset: s.field("offset", S.option(S.int->S.min(0))),
    limit: s.field("limit", S.option(S.int->S.min(1)->S.max(100))),
  })

type postFlashFeaturedResponse = array<MisskeyIoComponentSchemas.Flash.t>

let postFlashFeaturedResponseSchema = S.array(MisskeyIoComponentSchemas.Flash.schema)

/**
flash/featured

No description provided.

**Credential required**: *No*
*/
let postFlashFeatured = async (~body: postFlashFeaturedRequest, ~fetch: (~url: string, ~method_: string, ~body: option<JSON.t>) => Promise.t<JSON.t>): postFlashFeaturedResponse => {
  let jsonBody = body->S.reverseConvertToJsonOrThrow(postFlashFeaturedRequestSchema)
  let response = await fetch(
    ~url="/flash/featured",
    ~method_="POST",
    ~body=Some(jsonBody),
  )
  response->S.parseOrThrow(postFlashFeaturedResponseSchema)
}

type postFlashLikeRequest = {
  flashId: string,
}

let postFlashLikeRequestSchema = S.object(s => {
    flashId: s.field("flashId", S.string),
  })

type postFlashLikeResponse = unit

/**
flash/like

No description provided.

**Credential required**: *Yes* / **Permission**: *write:flash-likes*
*/
let postFlashLike = async (~body: postFlashLikeRequest, ~fetch: (~url: string, ~method_: string, ~body: option<JSON.t>) => Promise.t<JSON.t>): postFlashLikeResponse => {
  let jsonBody = body->S.reverseConvertToJsonOrThrow(postFlashLikeRequestSchema)
  let response = await fetch(
    ~url="/flash/like",
    ~method_="POST",
    ~body=Some(jsonBody),
  )
  let _ = response
}

type postFlashUnlikeRequest = {
  flashId: string,
}

let postFlashUnlikeRequestSchema = S.object(s => {
    flashId: s.field("flashId", S.string),
  })

type postFlashUnlikeResponse = unit

/**
flash/unlike

No description provided.

**Credential required**: *Yes* / **Permission**: *write:flash-likes*
*/
let postFlashUnlike = async (~body: postFlashUnlikeRequest, ~fetch: (~url: string, ~method_: string, ~body: option<JSON.t>) => Promise.t<JSON.t>): postFlashUnlikeResponse => {
  let jsonBody = body->S.reverseConvertToJsonOrThrow(postFlashUnlikeRequestSchema)
  let response = await fetch(
    ~url="/flash/unlike",
    ~method_="POST",
    ~body=Some(jsonBody),
  )
  let _ = response
}

type postFlashUpdateRequest = {
  flashId: string,
  title: option<string>,
  summary: option<string>,
  script: option<string>,
  permissions: option<array<string>>,
  visibility: option<string>,
}

let postFlashUpdateRequestSchema = S.object(s => {
    flashId: s.field("flashId", S.string),
    title: s.field("title", S.option(S.string)),
    summary: s.field("summary", S.option(S.string)),
    script: s.field("script", S.option(S.string)),
    permissions: s.field("permissions", S.option(S.array(S.string))),
    visibility: s.field("visibility", S.option(S.string)),
  })

type postFlashUpdateResponse = unit

/**
flash/update

No description provided.

**Credential required**: *Yes* / **Permission**: *write:flash*
*/
let postFlashUpdate = async (~body: postFlashUpdateRequest, ~fetch: (~url: string, ~method_: string, ~body: option<JSON.t>) => Promise.t<JSON.t>): postFlashUpdateResponse => {
  let jsonBody = body->S.reverseConvertToJsonOrThrow(postFlashUpdateRequestSchema)
  let response = await fetch(
    ~url="/flash/update",
    ~method_="POST",
    ~body=Some(jsonBody),
  )
  let _ = response
}
