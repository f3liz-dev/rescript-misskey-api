// misskey-io API for pages
// Generated by @f3liz/rescript-autogen-openapi
// DO NOT EDIT - This file is auto-generated

S.enableJson()


type postPagesCreateRequest = {
  title: string,
  name: string,
  summary: option<string>,
  content: array<dict<JSON.t>>,
  variables: array<dict<JSON.t>>,
  script: string,
  eyeCatchingImageId: option<string>,
  font: option<string>,
  alignCenter: option<bool>,
  hideTitleWhenPinned: option<bool>,
  visibility: option<string>,
}

let postPagesCreateRequestSchema = S.object(s => {
    title: s.field("title", S.string),
    name: s.field("name", S.string->S.min(1)->S.pattern(/^[a-zA-Z0-9_-]+$/)),
    summary: s.field("summary", S.option(S.string)),
    content: s.field("content", S.array(S.dict(S.json))),
    variables: s.field("variables", S.array(S.dict(S.json))),
    script: s.field("script", S.string),
    eyeCatchingImageId: s.field("eyeCatchingImageId", S.option(S.string)),
    font: s.field("font", S.option(S.string)),
    alignCenter: s.field("alignCenter", S.option(S.bool)),
    hideTitleWhenPinned: s.field("hideTitleWhenPinned", S.option(S.bool)),
    visibility: s.field("visibility", S.option(S.string)),
  })

type postPagesCreateResponse = MisskeyIoComponentSchemas.Page.t

let postPagesCreateResponseSchema = MisskeyIoComponentSchemas.Page.schema

/**
pages/create

No description provided.

**Credential required**: *Yes* / **Permission**: *write:pages*
*/
let postPagesCreate = async (~body: postPagesCreateRequest, ~fetch: (~url: string, ~method_: string, ~body: option<JSON.t>) => Promise.t<JSON.t>): postPagesCreateResponse => {
  let jsonBody = body->S.reverseConvertToJsonOrThrow(postPagesCreateRequestSchema)
  let response = await fetch(
    ~url="/pages/create",
    ~method_="POST",
    ~body=Some(jsonBody),
  )
  response->S.parseOrThrow(postPagesCreateResponseSchema)
}

type postPagesDeleteRequest = {
  pageId: string,
}

let postPagesDeleteRequestSchema = S.object(s => {
    pageId: s.field("pageId", S.string),
  })

type postPagesDeleteResponse = unit

/**
pages/delete

No description provided.

**Credential required**: *Yes* / **Permission**: *write:pages*
*/
let postPagesDelete = async (~body: postPagesDeleteRequest, ~fetch: (~url: string, ~method_: string, ~body: option<JSON.t>) => Promise.t<JSON.t>): postPagesDeleteResponse => {
  let jsonBody = body->S.reverseConvertToJsonOrThrow(postPagesDeleteRequestSchema)
  let response = await fetch(
    ~url="/pages/delete",
    ~method_="POST",
    ~body=Some(jsonBody),
  )
  let _ = response
}

type postPagesFeaturedResponse = array<MisskeyIoComponentSchemas.Page.t>

let postPagesFeaturedResponseSchema = S.array(MisskeyIoComponentSchemas.Page.schema)

/**
pages/featured

No description provided.

**Credential required**: *No*
*/
let postPagesFeatured = async (~fetch: (~url: string, ~method_: string, ~body: option<JSON.t>) => Promise.t<JSON.t>): postPagesFeaturedResponse => {

  let response = await fetch(
    ~url="/pages/featured",
    ~method_="POST",
    ~body=None,
  )
  response->S.parseOrThrow(postPagesFeaturedResponseSchema)
}

type postPagesLikeRequest = {
  pageId: string,
}

let postPagesLikeRequestSchema = S.object(s => {
    pageId: s.field("pageId", S.string),
  })

type postPagesLikeResponse = unit

/**
pages/like

No description provided.

**Credential required**: *Yes* / **Permission**: *write:page-likes*
*/
let postPagesLike = async (~body: postPagesLikeRequest, ~fetch: (~url: string, ~method_: string, ~body: option<JSON.t>) => Promise.t<JSON.t>): postPagesLikeResponse => {
  let jsonBody = body->S.reverseConvertToJsonOrThrow(postPagesLikeRequestSchema)
  let response = await fetch(
    ~url="/pages/like",
    ~method_="POST",
    ~body=Some(jsonBody),
  )
  let _ = response
}

type postPagesShowRequest = {
  pageId: option<string>,
  name: option<string>,
  username: option<string>,
}

let postPagesShowRequestSchema = S.object(s => {
    pageId: s.field("pageId", S.option(S.string)),
    name: s.field("name", S.option(S.string)),
    username: s.field("username", S.option(S.string)),
  })

type postPagesShowResponse = MisskeyIoComponentSchemas.Page.t

let postPagesShowResponseSchema = MisskeyIoComponentSchemas.Page.schema

/**
pages/show

No description provided.

**Credential required**: *No*
*/
let postPagesShow = async (~body: postPagesShowRequest, ~fetch: (~url: string, ~method_: string, ~body: option<JSON.t>) => Promise.t<JSON.t>): postPagesShowResponse => {
  let jsonBody = body->S.reverseConvertToJsonOrThrow(postPagesShowRequestSchema)
  let response = await fetch(
    ~url="/pages/show",
    ~method_="POST",
    ~body=Some(jsonBody),
  )
  response->S.parseOrThrow(postPagesShowResponseSchema)
}

type postPagesUnlikeRequest = {
  pageId: string,
}

let postPagesUnlikeRequestSchema = S.object(s => {
    pageId: s.field("pageId", S.string),
  })

type postPagesUnlikeResponse = unit

/**
pages/unlike

No description provided.

**Credential required**: *Yes* / **Permission**: *write:page-likes*
*/
let postPagesUnlike = async (~body: postPagesUnlikeRequest, ~fetch: (~url: string, ~method_: string, ~body: option<JSON.t>) => Promise.t<JSON.t>): postPagesUnlikeResponse => {
  let jsonBody = body->S.reverseConvertToJsonOrThrow(postPagesUnlikeRequestSchema)
  let response = await fetch(
    ~url="/pages/unlike",
    ~method_="POST",
    ~body=Some(jsonBody),
  )
  let _ = response
}

type postPagesUpdateRequest = {
  pageId: string,
  title: option<string>,
  name: option<string>,
  summary: option<string>,
  content: option<array<dict<JSON.t>>>,
  variables: option<array<dict<JSON.t>>>,
  script: option<string>,
  eyeCatchingImageId: option<string>,
  font: option<string>,
  alignCenter: option<bool>,
  hideTitleWhenPinned: option<bool>,
  visibility: option<string>,
}

let postPagesUpdateRequestSchema = S.object(s => {
    pageId: s.field("pageId", S.string),
    title: s.field("title", S.option(S.string)),
    name: s.field("name", S.option(S.string->S.min(1)->S.pattern(/^[a-zA-Z0-9_-]+$/))),
    summary: s.field("summary", S.option(S.string)),
    content: s.field("content", S.option(S.array(S.dict(S.json)))),
    variables: s.field("variables", S.option(S.array(S.dict(S.json)))),
    script: s.field("script", S.option(S.string)),
    eyeCatchingImageId: s.field("eyeCatchingImageId", S.option(S.string)),
    font: s.field("font", S.option(S.string)),
    alignCenter: s.field("alignCenter", S.option(S.bool)),
    hideTitleWhenPinned: s.field("hideTitleWhenPinned", S.option(S.bool)),
    visibility: s.field("visibility", S.option(S.string)),
  })

type postPagesUpdateResponse = unit

/**
pages/update

No description provided.

**Credential required**: *Yes* / **Permission**: *write:pages*
*/
let postPagesUpdate = async (~body: postPagesUpdateRequest, ~fetch: (~url: string, ~method_: string, ~body: option<JSON.t>) => Promise.t<JSON.t>): postPagesUpdateResponse => {
  let jsonBody = body->S.reverseConvertToJsonOrThrow(postPagesUpdateRequestSchema)
  let response = await fetch(
    ~url="/pages/update",
    ~method_="POST",
    ~body=Some(jsonBody),
  )
  let _ = response
}
