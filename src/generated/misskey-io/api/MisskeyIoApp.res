// misskey-io API for app
// Generated by @f3liz/rescript-autogen-openapi
// DO NOT EDIT - This file is auto-generated



type postAppCreateRequest = {
  name: string,
  description: string,
  permission: array<string>,
  callbackUrl: option<JSON.t>,
}

let postAppCreateRequestSchema = S.object(s => {
    name: s.field("name", S.string),
    description: s.field("description", S.string),
    permission: s.field("permission", S.array(S.string)),
    callbackUrl: s.fieldOr("callbackUrl", S.nullableAsOption(S.json), None),
  })

type postAppCreateResponse = MisskeyIoComponentSchemas.App.t

let postAppCreateResponseSchema = MisskeyIoComponentSchemas.App.schema

/**
 * app/create
 *
 * No description provided.
 *
 * **Credential required**: *No*
 */
let postAppCreate = (~body: postAppCreateRequest, ~fetch: (~url: string, ~method_: string, ~body: option<JSON.t>) => Promise.t<JSON.t>): promise<postAppCreateResponse> => {
  let jsonBody = body->S.reverseConvertToJsonOrThrow(postAppCreateRequestSchema)
  fetch(
    ~url="/app/create",
    ~method_="POST",
    ~body=Some(jsonBody),
  )->Promise.then(response => {
  let value = response->S.parseOrThrow(postAppCreateResponseSchema)
  value
    ->Promise.resolve
  })
}

type postAppShowRequest = {
  appId: string,
}

let postAppShowRequestSchema = S.object(s => {
    appId: s.field("appId", S.string),
  })

type postAppShowResponse = MisskeyIoComponentSchemas.App.t

let postAppShowResponseSchema = MisskeyIoComponentSchemas.App.schema

/**
 * app/show
 *
 * No description provided.
 *
 * **Credential required**: *No*
 */
let postAppShow = (~body: postAppShowRequest, ~fetch: (~url: string, ~method_: string, ~body: option<JSON.t>) => Promise.t<JSON.t>): promise<postAppShowResponse> => {
  let jsonBody = body->S.reverseConvertToJsonOrThrow(postAppShowRequestSchema)
  fetch(
    ~url="/app/show",
    ~method_="POST",
    ~body=Some(jsonBody),
  )->Promise.then(response => {
  let value = response->S.parseOrThrow(postAppShowResponseSchema)
  value
    ->Promise.resolve
  })
}
