// misskey-io API for gallery
// Generated by @f3liz/rescript-autogen-openapi
// DO NOT EDIT - This file is auto-generated



type postGalleryFeaturedRequest = {
  limit: option<int>,
  untilId: option<string>,
}

let postGalleryFeaturedRequestSchema = S.object(s => {
    limit: s.fieldOr("limit", S.nullableAsOption(S.int->S.min(1)->S.max(100)), None),
    untilId: s.fieldOr("untilId", S.nullableAsOption(S.string), None),
  })

type postGalleryFeaturedResponse = array<MisskeyIoComponentSchemas.GalleryPost.t>

let postGalleryFeaturedResponseSchema = S.array(MisskeyIoComponentSchemas.GalleryPost.schema)

/**
 * gallery/featured
 *
 * No description provided.
 *
 * **Credential required**: *No*
 */
let postGalleryFeatured = (~body: postGalleryFeaturedRequest, ~fetch: (~url: string, ~method_: string, ~body: option<JSON.t>) => Promise.t<JSON.t>): promise<postGalleryFeaturedResponse> => {
  let jsonBody = body->S.reverseConvertToJsonOrThrow(postGalleryFeaturedRequestSchema)
  fetch(
    ~url="/gallery/featured",
    ~method_="POST",
    ~body=Some(jsonBody),
  )->Promise.then(response => {
  let value = response->S.parseOrThrow(postGalleryFeaturedResponseSchema)
  value
    ->Promise.resolve
  })
}

type postGalleryPopularResponse = array<MisskeyIoComponentSchemas.GalleryPost.t>

let postGalleryPopularResponseSchema = S.array(MisskeyIoComponentSchemas.GalleryPost.schema)

/**
 * gallery/popular
 *
 * No description provided.
 *
 * **Credential required**: *No*
 */
let postGalleryPopular = (~fetch: (~url: string, ~method_: string, ~body: option<JSON.t>) => Promise.t<JSON.t>): promise<postGalleryPopularResponse> => {

  fetch(
    ~url="/gallery/popular",
    ~method_="POST",
    ~body=None,
  )->Promise.then(response => {
  let value = response->S.parseOrThrow(postGalleryPopularResponseSchema)
  value
    ->Promise.resolve
  })
}

type postGalleryPostsRequest = {
  limit: option<int>,
  sinceId: option<string>,
  untilId: option<string>,
}

let postGalleryPostsRequestSchema = S.object(s => {
    limit: s.fieldOr("limit", S.nullableAsOption(S.int->S.min(1)->S.max(100)), None),
    sinceId: s.fieldOr("sinceId", S.nullableAsOption(S.string), None),
    untilId: s.fieldOr("untilId", S.nullableAsOption(S.string), None),
  })

type postGalleryPostsResponse = array<MisskeyIoComponentSchemas.GalleryPost.t>

let postGalleryPostsResponseSchema = S.array(MisskeyIoComponentSchemas.GalleryPost.schema)

/**
 * gallery/posts
 *
 * No description provided.
 *
 * **Credential required**: *No*
 */
let postGalleryPosts = (~body: postGalleryPostsRequest, ~fetch: (~url: string, ~method_: string, ~body: option<JSON.t>) => Promise.t<JSON.t>): promise<postGalleryPostsResponse> => {
  let jsonBody = body->S.reverseConvertToJsonOrThrow(postGalleryPostsRequestSchema)
  fetch(
    ~url="/gallery/posts",
    ~method_="POST",
    ~body=Some(jsonBody),
  )->Promise.then(response => {
  let value = response->S.parseOrThrow(postGalleryPostsResponseSchema)
  value
    ->Promise.resolve
  })
}

type postGalleryPostsCreateRequest = {
  title: string,
  description: option<string>,
  fileIds: array<string>,
  isSensitive: option<bool>,
}

let postGalleryPostsCreateRequestSchema = S.object(s => {
    title: s.field("title", S.string->S.min(1)),
    description: s.fieldOr("description", S.nullableAsOption(S.string), None),
    fileIds: s.field("fileIds", S.array(S.string)),
    isSensitive: s.fieldOr("isSensitive", S.nullableAsOption(S.bool), None),
  })

type postGalleryPostsCreateResponse = MisskeyIoComponentSchemas.GalleryPost.t

let postGalleryPostsCreateResponseSchema = MisskeyIoComponentSchemas.GalleryPost.schema

/**
 * gallery/posts/create
 *
 * No description provided.
 *
 * **Credential required**: *Yes* / **Permission**: *write:gallery*
 */
let postGalleryPostsCreate = (~body: postGalleryPostsCreateRequest, ~fetch: (~url: string, ~method_: string, ~body: option<JSON.t>) => Promise.t<JSON.t>): promise<postGalleryPostsCreateResponse> => {
  let jsonBody = body->S.reverseConvertToJsonOrThrow(postGalleryPostsCreateRequestSchema)
  fetch(
    ~url="/gallery/posts/create",
    ~method_="POST",
    ~body=Some(jsonBody),
  )->Promise.then(response => {
  let value = response->S.parseOrThrow(postGalleryPostsCreateResponseSchema)
  value
    ->Promise.resolve
  })
}

type postGalleryPostsDeleteRequest = {
  postId: string,
}

let postGalleryPostsDeleteRequestSchema = S.object(s => {
    postId: s.field("postId", S.string),
  })

type postGalleryPostsDeleteResponse = unit

/**
 * gallery/posts/delete
 *
 * No description provided.
 *
 * **Credential required**: *Yes* / **Permission**: *write:gallery*
 */
let postGalleryPostsDelete = (~body: postGalleryPostsDeleteRequest, ~fetch: (~url: string, ~method_: string, ~body: option<JSON.t>) => Promise.t<JSON.t>): promise<postGalleryPostsDeleteResponse> => {
  let jsonBody = body->S.reverseConvertToJsonOrThrow(postGalleryPostsDeleteRequestSchema)
  fetch(
    ~url="/gallery/posts/delete",
    ~method_="POST",
    ~body=Some(jsonBody),
  )->Promise.then(response => {
  let _ = response
  ()
    ->Promise.resolve
  })
}

type postGalleryPostsLikeRequest = {
  postId: string,
}

let postGalleryPostsLikeRequestSchema = S.object(s => {
    postId: s.field("postId", S.string),
  })

type postGalleryPostsLikeResponse = unit

/**
 * gallery/posts/like
 *
 * No description provided.
 *
 * **Credential required**: *Yes* / **Permission**: *write:gallery-likes*
 */
let postGalleryPostsLike = (~body: postGalleryPostsLikeRequest, ~fetch: (~url: string, ~method_: string, ~body: option<JSON.t>) => Promise.t<JSON.t>): promise<postGalleryPostsLikeResponse> => {
  let jsonBody = body->S.reverseConvertToJsonOrThrow(postGalleryPostsLikeRequestSchema)
  fetch(
    ~url="/gallery/posts/like",
    ~method_="POST",
    ~body=Some(jsonBody),
  )->Promise.then(response => {
  let _ = response
  ()
    ->Promise.resolve
  })
}

type postGalleryPostsShowRequest = {
  postId: string,
}

let postGalleryPostsShowRequestSchema = S.object(s => {
    postId: s.field("postId", S.string),
  })

type postGalleryPostsShowResponse = MisskeyIoComponentSchemas.GalleryPost.t

let postGalleryPostsShowResponseSchema = MisskeyIoComponentSchemas.GalleryPost.schema

/**
 * gallery/posts/show
 *
 * No description provided.
 *
 * **Credential required**: *No*
 */
let postGalleryPostsShow = (~body: postGalleryPostsShowRequest, ~fetch: (~url: string, ~method_: string, ~body: option<JSON.t>) => Promise.t<JSON.t>): promise<postGalleryPostsShowResponse> => {
  let jsonBody = body->S.reverseConvertToJsonOrThrow(postGalleryPostsShowRequestSchema)
  fetch(
    ~url="/gallery/posts/show",
    ~method_="POST",
    ~body=Some(jsonBody),
  )->Promise.then(response => {
  let value = response->S.parseOrThrow(postGalleryPostsShowResponseSchema)
  value
    ->Promise.resolve
  })
}

type postGalleryPostsUnlikeRequest = {
  postId: string,
}

let postGalleryPostsUnlikeRequestSchema = S.object(s => {
    postId: s.field("postId", S.string),
  })

type postGalleryPostsUnlikeResponse = unit

/**
 * gallery/posts/unlike
 *
 * No description provided.
 *
 * **Credential required**: *Yes* / **Permission**: *write:gallery-likes*
 */
let postGalleryPostsUnlike = (~body: postGalleryPostsUnlikeRequest, ~fetch: (~url: string, ~method_: string, ~body: option<JSON.t>) => Promise.t<JSON.t>): promise<postGalleryPostsUnlikeResponse> => {
  let jsonBody = body->S.reverseConvertToJsonOrThrow(postGalleryPostsUnlikeRequestSchema)
  fetch(
    ~url="/gallery/posts/unlike",
    ~method_="POST",
    ~body=Some(jsonBody),
  )->Promise.then(response => {
  let _ = response
  ()
    ->Promise.resolve
  })
}

type postGalleryPostsUpdateRequest = {
  postId: string,
  title: option<string>,
  description: option<string>,
  fileIds: option<array<string>>,
  isSensitive: option<bool>,
}

let postGalleryPostsUpdateRequestSchema = S.object(s => {
    postId: s.field("postId", S.string),
    title: s.fieldOr("title", S.nullableAsOption(S.string->S.min(1)), None),
    description: s.fieldOr("description", S.nullableAsOption(S.string), None),
    fileIds: s.fieldOr("fileIds", S.nullableAsOption(S.array(S.string)), None),
    isSensitive: s.fieldOr("isSensitive", S.nullableAsOption(S.bool), None),
  })

type postGalleryPostsUpdateResponse = MisskeyIoComponentSchemas.GalleryPost.t

let postGalleryPostsUpdateResponseSchema = MisskeyIoComponentSchemas.GalleryPost.schema

/**
 * gallery/posts/update
 *
 * No description provided.
 *
 * **Credential required**: *Yes* / **Permission**: *write:gallery*
 */
let postGalleryPostsUpdate = (~body: postGalleryPostsUpdateRequest, ~fetch: (~url: string, ~method_: string, ~body: option<JSON.t>) => Promise.t<JSON.t>): promise<postGalleryPostsUpdateResponse> => {
  let jsonBody = body->S.reverseConvertToJsonOrThrow(postGalleryPostsUpdateRequestSchema)
  fetch(
    ~url="/gallery/posts/update",
    ~method_="POST",
    ~body=Some(jsonBody),
  )->Promise.then(response => {
  let value = response->S.parseOrThrow(postGalleryPostsUpdateResponseSchema)
  value
    ->Promise.resolve
  })
}
