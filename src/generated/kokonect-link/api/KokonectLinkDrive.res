// kokonect-link API for drive
// Generated by @f3liz/rescript-autogen-openapi
// DO NOT EDIT - This file is auto-generated

S.enableJson()


type postDriveFilesRequest = {
  limit: option<int>,
  sinceId: option<string>,
  untilId: option<string>,
  sinceDate: option<int>,
  untilDate: option<int>,
  folderId: option<string>,
  @as("type") type_: option<string>,
  sort: option<string>,
}

let postDriveFilesRequestSchema = S.object(s => {
    limit: s.field("limit", S.option(S.int->S.min(1)->S.max(100))),
    sinceId: s.field("sinceId", S.option(S.string)),
    untilId: s.field("untilId", S.option(S.string)),
    sinceDate: s.field("sinceDate", S.option(S.int)),
    untilDate: s.field("untilDate", S.option(S.int)),
    folderId: s.field("folderId", S.option(S.string)),
    type_: s.field("type", S.option(S.string->S.pattern(/^[a-zA-Z\/\*-]+$/))),
    sort: s.field("sort", S.option(S.string)),
  })

type postDriveFilesResponse = array<KokonectLinkComponentSchemas.DriveFile.t>

let postDriveFilesResponseSchema = S.array(KokonectLinkComponentSchemas.DriveFile.schema)

/**
drive/files

No description provided.

**Credential required**: *Yes* / **Permission**: *read:drive*
*/
let postDriveFiles = (~body: postDriveFilesRequest, ~fetch: (~url: string, ~method_: string, ~body: option<JSON.t>) => Promise.t<JSON.t>): promise<postDriveFilesResponse> => {
  let jsonBody = body->S.reverseConvertToJsonOrThrow(postDriveFilesRequestSchema)
  fetch(
    ~url="/drive/files",
    ~method_="POST",
    ~body=Some(jsonBody),
  )->Promise.then(response => {
  let value = response->S.parseOrThrow(postDriveFilesResponseSchema)
  value
    ->Promise.resolve
  })
}

type postDriveFilesAttachedChatMessagesRequest = {
  sinceId: option<string>,
  untilId: option<string>,
  sinceDate: option<int>,
  untilDate: option<int>,
  limit: option<int>,
  fileId: string,
}

let postDriveFilesAttachedChatMessagesRequestSchema = S.object(s => {
    sinceId: s.field("sinceId", S.option(S.string)),
    untilId: s.field("untilId", S.option(S.string)),
    sinceDate: s.field("sinceDate", S.option(S.int)),
    untilDate: s.field("untilDate", S.option(S.int)),
    limit: s.field("limit", S.option(S.int->S.min(1)->S.max(100))),
    fileId: s.field("fileId", S.string),
  })

type postDriveFilesAttachedChatMessagesResponse = array<KokonectLinkComponentSchemas.ChatMessage.t>

let postDriveFilesAttachedChatMessagesResponseSchema = S.array(KokonectLinkComponentSchemas.ChatMessage.schema)

/**
drive/files/attached-chat-messages

No description provided.

**Credential required**: *Yes* / **Permission**: *read:drive*
*/
let postDriveFilesAttachedChatMessages = (~body: postDriveFilesAttachedChatMessagesRequest, ~fetch: (~url: string, ~method_: string, ~body: option<JSON.t>) => Promise.t<JSON.t>): promise<postDriveFilesAttachedChatMessagesResponse> => {
  let jsonBody = body->S.reverseConvertToJsonOrThrow(postDriveFilesAttachedChatMessagesRequestSchema)
  fetch(
    ~url="/drive/files/attached-chat-messages",
    ~method_="POST",
    ~body=Some(jsonBody),
  )->Promise.then(response => {
  let value = response->S.parseOrThrow(postDriveFilesAttachedChatMessagesResponseSchema)
  value
    ->Promise.resolve
  })
}

type postDriveFilesAttachedNotesRequest = {
  sinceId: option<string>,
  untilId: option<string>,
  sinceDate: option<int>,
  untilDate: option<int>,
  limit: option<int>,
  fileId: string,
}

let postDriveFilesAttachedNotesRequestSchema = S.object(s => {
    sinceId: s.field("sinceId", S.option(S.string)),
    untilId: s.field("untilId", S.option(S.string)),
    sinceDate: s.field("sinceDate", S.option(S.int)),
    untilDate: s.field("untilDate", S.option(S.int)),
    limit: s.field("limit", S.option(S.int->S.min(1)->S.max(100))),
    fileId: s.field("fileId", S.string),
  })

type postDriveFilesAttachedNotesResponse = array<KokonectLinkComponentSchemas.Note.t>

let postDriveFilesAttachedNotesResponseSchema = S.array(KokonectLinkComponentSchemas.Note.schema)

/**
drive/files/attached-notes

Find the notes to which the given file is attached.

**Credential required**: *Yes* / **Permission**: *read:drive*
*/
let postDriveFilesAttachedNotes = (~body: postDriveFilesAttachedNotesRequest, ~fetch: (~url: string, ~method_: string, ~body: option<JSON.t>) => Promise.t<JSON.t>): promise<postDriveFilesAttachedNotesResponse> => {
  let jsonBody = body->S.reverseConvertToJsonOrThrow(postDriveFilesAttachedNotesRequestSchema)
  fetch(
    ~url="/drive/files/attached-notes",
    ~method_="POST",
    ~body=Some(jsonBody),
  )->Promise.then(response => {
  let value = response->S.parseOrThrow(postDriveFilesAttachedNotesResponseSchema)
  value
    ->Promise.resolve
  })
}

type postDriveFilesCreateRequest = {
  folderId: option<string>,
  name: option<string>,
  comment: option<string>,
  isSensitive: option<bool>,
  force: option<bool>,
  file: string,
}

let postDriveFilesCreateRequestSchema = S.object(s => {
    folderId: s.field("folderId", S.option(S.string)),
    name: s.field("name", S.option(S.string)),
    comment: s.field("comment", S.option(S.string->S.max(512))),
    isSensitive: s.field("isSensitive", S.option(S.bool)),
    force: s.field("force", S.option(S.bool)),
    file: s.field("file", S.string),
  })

type postDriveFilesCreateResponse = KokonectLinkComponentSchemas.DriveFile.t

let postDriveFilesCreateResponseSchema = KokonectLinkComponentSchemas.DriveFile.schema

/**
drive/files/create

Upload a new drive file.

**Credential required**: *Yes* / **Permission**: *write:drive*
*/
let postDriveFilesCreate = (~body: postDriveFilesCreateRequest, ~fetch: (~url: string, ~method_: string, ~body: option<JSON.t>) => Promise.t<JSON.t>): promise<postDriveFilesCreateResponse> => {
  let jsonBody = body->S.reverseConvertToJsonOrThrow(postDriveFilesCreateRequestSchema)
  fetch(
    ~url="/drive/files/create",
    ~method_="POST",
    ~body=Some(jsonBody),
  )->Promise.then(response => {
  let value = response->S.parseOrThrow(postDriveFilesCreateResponseSchema)
  value
    ->Promise.resolve
  })
}

type postDriveFilesMoveBulkRequest = {
  fileIds: array<string>,
  folderId: option<string>,
}

let postDriveFilesMoveBulkRequestSchema = S.object(s => {
    fileIds: s.field("fileIds", S.array(S.string)),
    folderId: s.field("folderId", S.option(S.string)),
  })

type postDriveFilesMoveBulkResponse = unit

/**
drive/files/move-bulk

No description provided.

**Credential required**: *Yes* / **Permission**: *write:drive*
*/
let postDriveFilesMoveBulk = (~body: postDriveFilesMoveBulkRequest, ~fetch: (~url: string, ~method_: string, ~body: option<JSON.t>) => Promise.t<JSON.t>): promise<postDriveFilesMoveBulkResponse> => {
  let jsonBody = body->S.reverseConvertToJsonOrThrow(postDriveFilesMoveBulkRequestSchema)
  fetch(
    ~url="/drive/files/move-bulk",
    ~method_="POST",
    ~body=Some(jsonBody),
  )->Promise.then(response => {
  let _ = response
  ()
    ->Promise.resolve
  })
}

type postDriveFilesShowRequest_1 = {
  url: string,
}

type postDriveFilesShowRequest = postDriveFilesShowRequest_1

let postDriveFilesShowRequest_1Schema = S.object(s => {
    url: s.field("url", S.string),
  })

let postDriveFilesShowRequestSchema = postDriveFilesShowRequest_1Schema

type postDriveFilesShowResponse = KokonectLinkComponentSchemas.DriveFile.t

let postDriveFilesShowResponseSchema = KokonectLinkComponentSchemas.DriveFile.schema

/**
drive/files/show

Show the properties of a drive file.

**Credential required**: *Yes* / **Permission**: *read:drive*
*/
let postDriveFilesShow = (~body: postDriveFilesShowRequest, ~fetch: (~url: string, ~method_: string, ~body: option<JSON.t>) => Promise.t<JSON.t>): promise<postDriveFilesShowResponse> => {
  let jsonBody = body->S.reverseConvertToJsonOrThrow(postDriveFilesShowRequestSchema)
  fetch(
    ~url="/drive/files/show",
    ~method_="POST",
    ~body=Some(jsonBody),
  )->Promise.then(response => {
  let value = response->S.parseOrThrow(postDriveFilesShowResponseSchema)
  value
    ->Promise.resolve
  })
}

type postDriveFilesUpdateRequest = {
  fileId: string,
  folderId: option<string>,
  name: option<string>,
  isSensitive: option<bool>,
  comment: option<string>,
}

let postDriveFilesUpdateRequestSchema = S.object(s => {
    fileId: s.field("fileId", S.string),
    folderId: s.field("folderId", S.option(S.string)),
    name: s.field("name", S.option(S.string)),
    isSensitive: s.field("isSensitive", S.option(S.bool)),
    comment: s.field("comment", S.option(S.string->S.max(512))),
  })

type postDriveFilesUpdateResponse = KokonectLinkComponentSchemas.DriveFile.t

let postDriveFilesUpdateResponseSchema = KokonectLinkComponentSchemas.DriveFile.schema

/**
drive/files/update

Update the properties of a drive file.

**Credential required**: *Yes* / **Permission**: *write:drive*
*/
let postDriveFilesUpdate = (~body: postDriveFilesUpdateRequest, ~fetch: (~url: string, ~method_: string, ~body: option<JSON.t>) => Promise.t<JSON.t>): promise<postDriveFilesUpdateResponse> => {
  let jsonBody = body->S.reverseConvertToJsonOrThrow(postDriveFilesUpdateRequestSchema)
  fetch(
    ~url="/drive/files/update",
    ~method_="POST",
    ~body=Some(jsonBody),
  )->Promise.then(response => {
  let value = response->S.parseOrThrow(postDriveFilesUpdateResponseSchema)
  value
    ->Promise.resolve
  })
}

type postDriveFoldersRequest = {
  limit: option<int>,
  sinceId: option<string>,
  untilId: option<string>,
  sinceDate: option<int>,
  untilDate: option<int>,
  folderId: option<string>,
}

let postDriveFoldersRequestSchema = S.object(s => {
    limit: s.field("limit", S.option(S.int->S.min(1)->S.max(100))),
    sinceId: s.field("sinceId", S.option(S.string)),
    untilId: s.field("untilId", S.option(S.string)),
    sinceDate: s.field("sinceDate", S.option(S.int)),
    untilDate: s.field("untilDate", S.option(S.int)),
    folderId: s.field("folderId", S.option(S.string)),
  })

type postDriveFoldersResponse = array<KokonectLinkComponentSchemas.DriveFolder.t>

let postDriveFoldersResponseSchema = S.array(KokonectLinkComponentSchemas.DriveFolder.schema)

/**
drive/folders

No description provided.

**Credential required**: *Yes* / **Permission**: *read:drive*
*/
let postDriveFolders = (~body: postDriveFoldersRequest, ~fetch: (~url: string, ~method_: string, ~body: option<JSON.t>) => Promise.t<JSON.t>): promise<postDriveFoldersResponse> => {
  let jsonBody = body->S.reverseConvertToJsonOrThrow(postDriveFoldersRequestSchema)
  fetch(
    ~url="/drive/folders",
    ~method_="POST",
    ~body=Some(jsonBody),
  )->Promise.then(response => {
  let value = response->S.parseOrThrow(postDriveFoldersResponseSchema)
  value
    ->Promise.resolve
  })
}

type postDriveFoldersCreateRequest = {
  name: option<string>,
  parentId: option<string>,
}

let postDriveFoldersCreateRequestSchema = S.object(s => {
    name: s.field("name", S.option(S.string->S.max(200))),
    parentId: s.field("parentId", S.option(S.string)),
  })

type postDriveFoldersCreateResponse = KokonectLinkComponentSchemas.DriveFolder.t

let postDriveFoldersCreateResponseSchema = KokonectLinkComponentSchemas.DriveFolder.schema

/**
drive/folders/create

No description provided.

**Credential required**: *Yes* / **Permission**: *write:drive*
*/
let postDriveFoldersCreate = (~body: postDriveFoldersCreateRequest, ~fetch: (~url: string, ~method_: string, ~body: option<JSON.t>) => Promise.t<JSON.t>): promise<postDriveFoldersCreateResponse> => {
  let jsonBody = body->S.reverseConvertToJsonOrThrow(postDriveFoldersCreateRequestSchema)
  fetch(
    ~url="/drive/folders/create",
    ~method_="POST",
    ~body=Some(jsonBody),
  )->Promise.then(response => {
  let value = response->S.parseOrThrow(postDriveFoldersCreateResponseSchema)
  value
    ->Promise.resolve
  })
}

type postDriveFoldersShowRequest = {
  folderId: string,
}

let postDriveFoldersShowRequestSchema = S.object(s => {
    folderId: s.field("folderId", S.string),
  })

type postDriveFoldersShowResponse = KokonectLinkComponentSchemas.DriveFolder.t

let postDriveFoldersShowResponseSchema = KokonectLinkComponentSchemas.DriveFolder.schema

/**
drive/folders/show

No description provided.

**Credential required**: *Yes* / **Permission**: *read:drive*
*/
let postDriveFoldersShow = (~body: postDriveFoldersShowRequest, ~fetch: (~url: string, ~method_: string, ~body: option<JSON.t>) => Promise.t<JSON.t>): promise<postDriveFoldersShowResponse> => {
  let jsonBody = body->S.reverseConvertToJsonOrThrow(postDriveFoldersShowRequestSchema)
  fetch(
    ~url="/drive/folders/show",
    ~method_="POST",
    ~body=Some(jsonBody),
  )->Promise.then(response => {
  let value = response->S.parseOrThrow(postDriveFoldersShowResponseSchema)
  value
    ->Promise.resolve
  })
}

type postDriveFoldersUpdateRequest = {
  folderId: string,
  name: option<string>,
  parentId: option<string>,
}

let postDriveFoldersUpdateRequestSchema = S.object(s => {
    folderId: s.field("folderId", S.string),
    name: s.field("name", S.option(S.string->S.max(200))),
    parentId: s.field("parentId", S.option(S.string)),
  })

type postDriveFoldersUpdateResponse = KokonectLinkComponentSchemas.DriveFolder.t

let postDriveFoldersUpdateResponseSchema = KokonectLinkComponentSchemas.DriveFolder.schema

/**
drive/folders/update

No description provided.

**Credential required**: *Yes* / **Permission**: *write:drive*
*/
let postDriveFoldersUpdate = (~body: postDriveFoldersUpdateRequest, ~fetch: (~url: string, ~method_: string, ~body: option<JSON.t>) => Promise.t<JSON.t>): promise<postDriveFoldersUpdateResponse> => {
  let jsonBody = body->S.reverseConvertToJsonOrThrow(postDriveFoldersUpdateRequestSchema)
  fetch(
    ~url="/drive/folders/update",
    ~method_="POST",
    ~body=Some(jsonBody),
  )->Promise.then(response => {
  let value = response->S.parseOrThrow(postDriveFoldersUpdateResponseSchema)
  value
    ->Promise.resolve
  })
}

type postDriveStreamRequest = {
  limit: option<int>,
  sinceId: option<string>,
  untilId: option<string>,
  sinceDate: option<int>,
  untilDate: option<int>,
  @as("type") type_: option<string>,
}

let postDriveStreamRequestSchema = S.object(s => {
    limit: s.field("limit", S.option(S.int->S.min(1)->S.max(100))),
    sinceId: s.field("sinceId", S.option(S.string)),
    untilId: s.field("untilId", S.option(S.string)),
    sinceDate: s.field("sinceDate", S.option(S.int)),
    untilDate: s.field("untilDate", S.option(S.int)),
    type_: s.field("type", S.option(S.string->S.pattern(/^[a-zA-Z\/\*-]+$/))),
  })

type postDriveStreamResponse = array<KokonectLinkComponentSchemas.DriveFile.t>

let postDriveStreamResponseSchema = S.array(KokonectLinkComponentSchemas.DriveFile.schema)

/**
drive/stream

No description provided.

**Credential required**: *Yes* / **Permission**: *read:drive*
*/
let postDriveStream = (~body: postDriveStreamRequest, ~fetch: (~url: string, ~method_: string, ~body: option<JSON.t>) => Promise.t<JSON.t>): promise<postDriveStreamResponse> => {
  let jsonBody = body->S.reverseConvertToJsonOrThrow(postDriveStreamRequestSchema)
  fetch(
    ~url="/drive/stream",
    ~method_="POST",
    ~body=Some(jsonBody),
  )->Promise.then(response => {
  let value = response->S.parseOrThrow(postDriveStreamResponseSchema)
  value
    ->Promise.resolve
  })
}
