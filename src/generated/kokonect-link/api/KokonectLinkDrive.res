// kokonect-link API for drive
// Generated by @f3liz/rescript-autogen-openapi
// DO NOT EDIT - This file is auto-generated



type postDriveFilesRequest = {
  limit: option<int>,
  sinceId: option<string>,
  untilId: option<string>,
  sinceDate: option<int>,
  untilDate: option<int>,
  folderId: option<JSON.t>,
  @as("type") type_: option<JSON.t>,
  sort: option<JSON.t>,
}

let postDriveFilesRequestSchema = S.object(s => {
    limit: s.fieldOr("limit", S.nullableAsOption(S.int->S.min(1)->S.max(100)), None),
    sinceId: s.fieldOr("sinceId", S.nullableAsOption(S.string), None),
    untilId: s.fieldOr("untilId", S.nullableAsOption(S.string), None),
    sinceDate: s.fieldOr("sinceDate", S.nullableAsOption(S.int), None),
    untilDate: s.fieldOr("untilDate", S.nullableAsOption(S.int), None),
    folderId: s.fieldOr("folderId", S.nullableAsOption(S.json), None),
    type_: s.fieldOr("type", S.nullableAsOption(S.json), None),
    sort: s.fieldOr("sort", S.nullableAsOption(S.json), None),
  })

type postDriveFilesResponse = array<KokonectLinkComponentSchemas.DriveFile.t>

let postDriveFilesResponseSchema = S.array(KokonectLinkComponentSchemas.DriveFile.schema)

/**
 * drive/files
 *
 * No description provided.
 *
 * **Credential required**: *Yes* / **Permission**: *read:drive*
 */
let postDriveFiles = (~body: postDriveFilesRequest, ~fetch: (~url: string, ~method_: string, ~body: option<JSON.t>) => Promise.t<JSON.t>): promise<postDriveFilesResponse> => {
  let jsonBody = body->S.reverseConvertToJsonOrThrow(postDriveFilesRequestSchema)
  fetch(
    ~url="/drive/files",
    ~method_="POST",
    ~body=Some(jsonBody),
  )->Promise.then(response => {
  let value = response->S.parseOrThrow(postDriveFilesResponseSchema)
  value
    ->Promise.resolve
  })
}

type postDriveFilesAttachedChatMessagesRequest = {
  sinceId: option<string>,
  untilId: option<string>,
  sinceDate: option<int>,
  untilDate: option<int>,
  limit: option<int>,
  fileId: string,
}

let postDriveFilesAttachedChatMessagesRequestSchema = S.object(s => {
    sinceId: s.fieldOr("sinceId", S.nullableAsOption(S.string), None),
    untilId: s.fieldOr("untilId", S.nullableAsOption(S.string), None),
    sinceDate: s.fieldOr("sinceDate", S.nullableAsOption(S.int), None),
    untilDate: s.fieldOr("untilDate", S.nullableAsOption(S.int), None),
    limit: s.fieldOr("limit", S.nullableAsOption(S.int->S.min(1)->S.max(100)), None),
    fileId: s.field("fileId", S.string),
  })

type postDriveFilesAttachedChatMessagesResponse = array<KokonectLinkComponentSchemas.ChatMessage.t>

let postDriveFilesAttachedChatMessagesResponseSchema = S.array(KokonectLinkComponentSchemas.ChatMessage.schema)

/**
 * drive/files/attached-chat-messages
 *
 * No description provided.
 *
 * **Credential required**: *Yes* / **Permission**: *read:drive*
 */
let postDriveFilesAttachedChatMessages = (~body: postDriveFilesAttachedChatMessagesRequest, ~fetch: (~url: string, ~method_: string, ~body: option<JSON.t>) => Promise.t<JSON.t>): promise<postDriveFilesAttachedChatMessagesResponse> => {
  let jsonBody = body->S.reverseConvertToJsonOrThrow(postDriveFilesAttachedChatMessagesRequestSchema)
  fetch(
    ~url="/drive/files/attached-chat-messages",
    ~method_="POST",
    ~body=Some(jsonBody),
  )->Promise.then(response => {
  let value = response->S.parseOrThrow(postDriveFilesAttachedChatMessagesResponseSchema)
  value
    ->Promise.resolve
  })
}

type postDriveFilesAttachedNotesRequest = {
  sinceId: option<string>,
  untilId: option<string>,
  sinceDate: option<int>,
  untilDate: option<int>,
  limit: option<int>,
  fileId: string,
}

let postDriveFilesAttachedNotesRequestSchema = S.object(s => {
    sinceId: s.fieldOr("sinceId", S.nullableAsOption(S.string), None),
    untilId: s.fieldOr("untilId", S.nullableAsOption(S.string), None),
    sinceDate: s.fieldOr("sinceDate", S.nullableAsOption(S.int), None),
    untilDate: s.fieldOr("untilDate", S.nullableAsOption(S.int), None),
    limit: s.fieldOr("limit", S.nullableAsOption(S.int->S.min(1)->S.max(100)), None),
    fileId: s.field("fileId", S.string),
  })

type postDriveFilesAttachedNotesResponse = array<KokonectLinkComponentSchemas.Note.t>

let postDriveFilesAttachedNotesResponseSchema = S.array(KokonectLinkComponentSchemas.Note.schema)

/**
 * drive/files/attached-notes
 *
 * Find the notes to which the given file is attached.
 *
 * **Credential required**: *Yes* / **Permission**: *read:drive*
 */
let postDriveFilesAttachedNotes = (~body: postDriveFilesAttachedNotesRequest, ~fetch: (~url: string, ~method_: string, ~body: option<JSON.t>) => Promise.t<JSON.t>): promise<postDriveFilesAttachedNotesResponse> => {
  let jsonBody = body->S.reverseConvertToJsonOrThrow(postDriveFilesAttachedNotesRequestSchema)
  fetch(
    ~url="/drive/files/attached-notes",
    ~method_="POST",
    ~body=Some(jsonBody),
  )->Promise.then(response => {
  let value = response->S.parseOrThrow(postDriveFilesAttachedNotesResponseSchema)
  value
    ->Promise.resolve
  })
}

type postDriveFilesCreateRequest = {
  folderId: option<JSON.t>,
  name: option<JSON.t>,
  comment: option<JSON.t>,
  isSensitive: option<bool>,
  force: option<bool>,
  file: string,
}

let postDriveFilesCreateRequestSchema = S.object(s => {
    folderId: s.fieldOr("folderId", S.nullableAsOption(S.json), None),
    name: s.fieldOr("name", S.nullableAsOption(S.json), None),
    comment: s.fieldOr("comment", S.nullableAsOption(S.json), None),
    isSensitive: s.fieldOr("isSensitive", S.nullableAsOption(S.bool), None),
    force: s.fieldOr("force", S.nullableAsOption(S.bool), None),
    file: s.field("file", S.string),
  })

type postDriveFilesCreateResponse = KokonectLinkComponentSchemas.DriveFile.t

let postDriveFilesCreateResponseSchema = KokonectLinkComponentSchemas.DriveFile.schema

/**
 * drive/files/create
 *
 * Upload a new drive file.
 *
 * **Credential required**: *Yes* / **Permission**: *write:drive*
 */
let postDriveFilesCreate = (~body: postDriveFilesCreateRequest, ~fetch: (~url: string, ~method_: string, ~body: option<JSON.t>) => Promise.t<JSON.t>): promise<postDriveFilesCreateResponse> => {
  let jsonBody = body->S.reverseConvertToJsonOrThrow(postDriveFilesCreateRequestSchema)
  fetch(
    ~url="/drive/files/create",
    ~method_="POST",
    ~body=Some(jsonBody),
  )->Promise.then(response => {
  let value = response->S.parseOrThrow(postDriveFilesCreateResponseSchema)
  value
    ->Promise.resolve
  })
}

type postDriveFilesMoveBulkRequest = {
  fileIds: array<string>,
  folderId: option<JSON.t>,
}

let postDriveFilesMoveBulkRequestSchema = S.object(s => {
    fileIds: s.field("fileIds", S.array(S.string)),
    folderId: s.fieldOr("folderId", S.nullableAsOption(S.json), None),
  })

type postDriveFilesMoveBulkResponse = unit

/**
 * drive/files/move-bulk
 *
 * No description provided.
 *
 * **Credential required**: *Yes* / **Permission**: *write:drive*
 */
let postDriveFilesMoveBulk = (~body: postDriveFilesMoveBulkRequest, ~fetch: (~url: string, ~method_: string, ~body: option<JSON.t>) => Promise.t<JSON.t>): promise<postDriveFilesMoveBulkResponse> => {
  let jsonBody = body->S.reverseConvertToJsonOrThrow(postDriveFilesMoveBulkRequestSchema)
  fetch(
    ~url="/drive/files/move-bulk",
    ~method_="POST",
    ~body=Some(jsonBody),
  )->Promise.then(response => {
  let _ = response
  ()
    ->Promise.resolve
  })
}

type postDriveFilesShowRequest = [
  | Object({
  fileId: string,
})
  | Object({
  url: string,
})
]

let postDriveFilesShowRequestSchema = S.union([S.object(s => {
    fileId: s.field("fileId", S.string),
  }), S.object(s => {
    url: s.field("url", S.string),
  })])

type postDriveFilesShowResponse = KokonectLinkComponentSchemas.DriveFile.t

let postDriveFilesShowResponseSchema = KokonectLinkComponentSchemas.DriveFile.schema

/**
 * drive/files/show
 *
 * Show the properties of a drive file.
 *
 * **Credential required**: *Yes* / **Permission**: *read:drive*
 */
let postDriveFilesShow = (~body: postDriveFilesShowRequest, ~fetch: (~url: string, ~method_: string, ~body: option<JSON.t>) => Promise.t<JSON.t>): promise<postDriveFilesShowResponse> => {
  let jsonBody = body->S.reverseConvertToJsonOrThrow(postDriveFilesShowRequestSchema)
  fetch(
    ~url="/drive/files/show",
    ~method_="POST",
    ~body=Some(jsonBody),
  )->Promise.then(response => {
  let value = response->S.parseOrThrow(postDriveFilesShowResponseSchema)
  value
    ->Promise.resolve
  })
}

type postDriveFilesUpdateRequest = {
  fileId: string,
  folderId: option<JSON.t>,
  name: option<string>,
  isSensitive: option<bool>,
  comment: option<JSON.t>,
}

let postDriveFilesUpdateRequestSchema = S.object(s => {
    fileId: s.field("fileId", S.string),
    folderId: s.fieldOr("folderId", S.nullableAsOption(S.json), None),
    name: s.fieldOr("name", S.nullableAsOption(S.string), None),
    isSensitive: s.fieldOr("isSensitive", S.nullableAsOption(S.bool), None),
    comment: s.fieldOr("comment", S.nullableAsOption(S.json), None),
  })

type postDriveFilesUpdateResponse = KokonectLinkComponentSchemas.DriveFile.t

let postDriveFilesUpdateResponseSchema = KokonectLinkComponentSchemas.DriveFile.schema

/**
 * drive/files/update
 *
 * Update the properties of a drive file.
 *
 * **Credential required**: *Yes* / **Permission**: *write:drive*
 */
let postDriveFilesUpdate = (~body: postDriveFilesUpdateRequest, ~fetch: (~url: string, ~method_: string, ~body: option<JSON.t>) => Promise.t<JSON.t>): promise<postDriveFilesUpdateResponse> => {
  let jsonBody = body->S.reverseConvertToJsonOrThrow(postDriveFilesUpdateRequestSchema)
  fetch(
    ~url="/drive/files/update",
    ~method_="POST",
    ~body=Some(jsonBody),
  )->Promise.then(response => {
  let value = response->S.parseOrThrow(postDriveFilesUpdateResponseSchema)
  value
    ->Promise.resolve
  })
}

type postDriveFoldersRequest = {
  limit: option<int>,
  sinceId: option<string>,
  untilId: option<string>,
  sinceDate: option<int>,
  untilDate: option<int>,
  folderId: option<JSON.t>,
}

let postDriveFoldersRequestSchema = S.object(s => {
    limit: s.fieldOr("limit", S.nullableAsOption(S.int->S.min(1)->S.max(100)), None),
    sinceId: s.fieldOr("sinceId", S.nullableAsOption(S.string), None),
    untilId: s.fieldOr("untilId", S.nullableAsOption(S.string), None),
    sinceDate: s.fieldOr("sinceDate", S.nullableAsOption(S.int), None),
    untilDate: s.fieldOr("untilDate", S.nullableAsOption(S.int), None),
    folderId: s.fieldOr("folderId", S.nullableAsOption(S.json), None),
  })

type postDriveFoldersResponse = array<KokonectLinkComponentSchemas.DriveFolder.t>

let postDriveFoldersResponseSchema = S.array(KokonectLinkComponentSchemas.DriveFolder.schema)

/**
 * drive/folders
 *
 * No description provided.
 *
 * **Credential required**: *Yes* / **Permission**: *read:drive*
 */
let postDriveFolders = (~body: postDriveFoldersRequest, ~fetch: (~url: string, ~method_: string, ~body: option<JSON.t>) => Promise.t<JSON.t>): promise<postDriveFoldersResponse> => {
  let jsonBody = body->S.reverseConvertToJsonOrThrow(postDriveFoldersRequestSchema)
  fetch(
    ~url="/drive/folders",
    ~method_="POST",
    ~body=Some(jsonBody),
  )->Promise.then(response => {
  let value = response->S.parseOrThrow(postDriveFoldersResponseSchema)
  value
    ->Promise.resolve
  })
}

type postDriveFoldersCreateRequest = {
  name: option<string>,
  parentId: option<JSON.t>,
}

let postDriveFoldersCreateRequestSchema = S.object(s => {
    name: s.fieldOr("name", S.nullableAsOption(S.string->S.max(200)), None),
    parentId: s.fieldOr("parentId", S.nullableAsOption(S.json), None),
  })

type postDriveFoldersCreateResponse = KokonectLinkComponentSchemas.DriveFolder.t

let postDriveFoldersCreateResponseSchema = KokonectLinkComponentSchemas.DriveFolder.schema

/**
 * drive/folders/create
 *
 * No description provided.
 *
 * **Credential required**: *Yes* / **Permission**: *write:drive*
 */
let postDriveFoldersCreate = (~body: postDriveFoldersCreateRequest, ~fetch: (~url: string, ~method_: string, ~body: option<JSON.t>) => Promise.t<JSON.t>): promise<postDriveFoldersCreateResponse> => {
  let jsonBody = body->S.reverseConvertToJsonOrThrow(postDriveFoldersCreateRequestSchema)
  fetch(
    ~url="/drive/folders/create",
    ~method_="POST",
    ~body=Some(jsonBody),
  )->Promise.then(response => {
  let value = response->S.parseOrThrow(postDriveFoldersCreateResponseSchema)
  value
    ->Promise.resolve
  })
}

type postDriveFoldersShowRequest = {
  folderId: string,
}

let postDriveFoldersShowRequestSchema = S.object(s => {
    folderId: s.field("folderId", S.string),
  })

type postDriveFoldersShowResponse = KokonectLinkComponentSchemas.DriveFolder.t

let postDriveFoldersShowResponseSchema = KokonectLinkComponentSchemas.DriveFolder.schema

/**
 * drive/folders/show
 *
 * No description provided.
 *
 * **Credential required**: *Yes* / **Permission**: *read:drive*
 */
let postDriveFoldersShow = (~body: postDriveFoldersShowRequest, ~fetch: (~url: string, ~method_: string, ~body: option<JSON.t>) => Promise.t<JSON.t>): promise<postDriveFoldersShowResponse> => {
  let jsonBody = body->S.reverseConvertToJsonOrThrow(postDriveFoldersShowRequestSchema)
  fetch(
    ~url="/drive/folders/show",
    ~method_="POST",
    ~body=Some(jsonBody),
  )->Promise.then(response => {
  let value = response->S.parseOrThrow(postDriveFoldersShowResponseSchema)
  value
    ->Promise.resolve
  })
}

type postDriveFoldersUpdateRequest = {
  folderId: string,
  name: option<string>,
  parentId: option<JSON.t>,
}

let postDriveFoldersUpdateRequestSchema = S.object(s => {
    folderId: s.field("folderId", S.string),
    name: s.fieldOr("name", S.nullableAsOption(S.string->S.max(200)), None),
    parentId: s.fieldOr("parentId", S.nullableAsOption(S.json), None),
  })

type postDriveFoldersUpdateResponse = KokonectLinkComponentSchemas.DriveFolder.t

let postDriveFoldersUpdateResponseSchema = KokonectLinkComponentSchemas.DriveFolder.schema

/**
 * drive/folders/update
 *
 * No description provided.
 *
 * **Credential required**: *Yes* / **Permission**: *write:drive*
 */
let postDriveFoldersUpdate = (~body: postDriveFoldersUpdateRequest, ~fetch: (~url: string, ~method_: string, ~body: option<JSON.t>) => Promise.t<JSON.t>): promise<postDriveFoldersUpdateResponse> => {
  let jsonBody = body->S.reverseConvertToJsonOrThrow(postDriveFoldersUpdateRequestSchema)
  fetch(
    ~url="/drive/folders/update",
    ~method_="POST",
    ~body=Some(jsonBody),
  )->Promise.then(response => {
  let value = response->S.parseOrThrow(postDriveFoldersUpdateResponseSchema)
  value
    ->Promise.resolve
  })
}

type postDriveStreamRequest = {
  limit: option<int>,
  sinceId: option<string>,
  untilId: option<string>,
  sinceDate: option<int>,
  untilDate: option<int>,
  @as("type") type_: option<string>,
}

let postDriveStreamRequestSchema = S.object(s => {
    limit: s.fieldOr("limit", S.nullableAsOption(S.int->S.min(1)->S.max(100)), None),
    sinceId: s.fieldOr("sinceId", S.nullableAsOption(S.string), None),
    untilId: s.fieldOr("untilId", S.nullableAsOption(S.string), None),
    sinceDate: s.fieldOr("sinceDate", S.nullableAsOption(S.int), None),
    untilDate: s.fieldOr("untilDate", S.nullableAsOption(S.int), None),
    type_: s.fieldOr("type", S.nullableAsOption(S.string->S.pattern(%re("/^[a-zA-Z\\/\\-*]+$/"))), None),
  })

type postDriveStreamResponse = array<KokonectLinkComponentSchemas.DriveFile.t>

let postDriveStreamResponseSchema = S.array(KokonectLinkComponentSchemas.DriveFile.schema)

/**
 * drive/stream
 *
 * No description provided.
 *
 * **Credential required**: *Yes* / **Permission**: *read:drive*
 */
let postDriveStream = (~body: postDriveStreamRequest, ~fetch: (~url: string, ~method_: string, ~body: option<JSON.t>) => Promise.t<JSON.t>): promise<postDriveStreamResponse> => {
  let jsonBody = body->S.reverseConvertToJsonOrThrow(postDriveStreamRequestSchema)
  fetch(
    ~url="/drive/stream",
    ~method_="POST",
    ~body=Some(jsonBody),
  )->Promise.then(response => {
  let value = response->S.parseOrThrow(postDriveStreamResponseSchema)
  value
    ->Promise.resolve
  })
}
