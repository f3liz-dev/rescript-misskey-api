// kokonect-link API for pages
// Generated by @f3liz/rescript-autogen-openapi
// DO NOT EDIT - This file is auto-generated

S.enableJson()


type postPagesCreateRequest = {
  title: string,
  name: string,
  summary: option<string>,
  content: array<dict<JSON.t>>,
  variables: array<dict<JSON.t>>,
  script: string,
  eyeCatchingImageId: option<string>,
  font: option<string>,
  alignCenter: option<bool>,
  hideTitleWhenPinned: option<bool>,
}

let postPagesCreateRequestSchema = S.object(s => {
    title: s.field("title", S.string),
    name: s.field("name", S.string->S.min(1)->S.pattern(/^[^\s:\/?#\[\]@!$&'()*+,;=\\%\x00-\x20]{1,256}$/)),
    summary: s.field("summary", S.option(S.string)),
    content: s.field("content", S.array(S.dict(S.json))),
    variables: s.field("variables", S.array(S.dict(S.json))),
    script: s.field("script", S.string),
    eyeCatchingImageId: s.field("eyeCatchingImageId", S.option(S.string)),
    font: s.field("font", S.option(S.string)),
    alignCenter: s.field("alignCenter", S.option(S.bool)),
    hideTitleWhenPinned: s.field("hideTitleWhenPinned", S.option(S.bool)),
  })

type postPagesCreateResponse = KokonectLinkComponentSchemas.Page.t

let postPagesCreateResponseSchema = KokonectLinkComponentSchemas.Page.schema

/**
pages/create

No description provided.

**Credential required**: *Yes* / **Permission**: *write:pages*
*/
let postPagesCreate = async (~body: postPagesCreateRequest, ~fetch: (~url: string, ~method_: string, ~body: option<JSON.t>) => Promise.t<JSON.t>): postPagesCreateResponse => {
  let jsonBody = body->S.reverseConvertToJsonOrThrow(postPagesCreateRequestSchema)
  let response = await fetch(
    ~url="/pages/create",
    ~method_="POST",
    ~body=Some(jsonBody),
  )
  response->S.parseOrThrow(postPagesCreateResponseSchema)
}

type postPagesShowRequest_1 = {
  name: string,
  username: string,
}

type postPagesShowRequest = postPagesShowRequest_1

let postPagesShowRequest_1Schema = S.object(s => {
    name: s.field("name", S.string),
    username: s.field("username", S.string),
  })

let postPagesShowRequestSchema = postPagesShowRequest_1Schema

type postPagesShowResponse = KokonectLinkComponentSchemas.Page.t

let postPagesShowResponseSchema = KokonectLinkComponentSchemas.Page.schema

/**
pages/show

No description provided.

**Credential required**: *No*
*/
let postPagesShow = async (~body: postPagesShowRequest, ~fetch: (~url: string, ~method_: string, ~body: option<JSON.t>) => Promise.t<JSON.t>): postPagesShowResponse => {
  let jsonBody = body->S.reverseConvertToJsonOrThrow(postPagesShowRequestSchema)
  let response = await fetch(
    ~url="/pages/show",
    ~method_="POST",
    ~body=Some(jsonBody),
  )
  response->S.parseOrThrow(postPagesShowResponseSchema)
}

type postPagesUpdateRequest = {
  pageId: string,
  title: option<string>,
  name: option<string>,
  summary: option<string>,
  content: option<array<dict<JSON.t>>>,
  variables: option<array<dict<JSON.t>>>,
  script: option<string>,
  eyeCatchingImageId: option<string>,
  font: option<string>,
  alignCenter: option<bool>,
  hideTitleWhenPinned: option<bool>,
}

let postPagesUpdateRequestSchema = S.object(s => {
    pageId: s.field("pageId", S.string),
    title: s.field("title", S.option(S.string)),
    name: s.field("name", S.option(S.string->S.min(1)->S.pattern(/^[^\s:\/?#\[\]@!$&'()*+,;=\\%\x00-\x20]{1,256}$/))),
    summary: s.field("summary", S.option(S.string)),
    content: s.field("content", S.option(S.array(S.dict(S.json)))),
    variables: s.field("variables", S.option(S.array(S.dict(S.json)))),
    script: s.field("script", S.option(S.string)),
    eyeCatchingImageId: s.field("eyeCatchingImageId", S.option(S.string)),
    font: s.field("font", S.option(S.string)),
    alignCenter: s.field("alignCenter", S.option(S.bool)),
    hideTitleWhenPinned: s.field("hideTitleWhenPinned", S.option(S.bool)),
  })

type postPagesUpdateResponse = unit

/**
pages/update

No description provided.

**Credential required**: *Yes* / **Permission**: *write:pages*
*/
let postPagesUpdate = async (~body: postPagesUpdateRequest, ~fetch: (~url: string, ~method_: string, ~body: option<JSON.t>) => Promise.t<JSON.t>): postPagesUpdateResponse => {
  let jsonBody = body->S.reverseConvertToJsonOrThrow(postPagesUpdateRequestSchema)
  let response = await fetch(
    ~url="/pages/update",
    ~method_="POST",
    ~body=Some(jsonBody),
  )
  let _ = response
}
