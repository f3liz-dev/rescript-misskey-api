// kokonect-link API for pages
// Generated by @f3liz/rescript-autogen-openapi
// DO NOT EDIT - This file is auto-generated



type postPagesCreateRequest = {
  title: string,
  name: string,
  summary: option<JSON.t>,
  content: array<JSON.t>,
  variables: array<JSON.t>,
  script: string,
  eyeCatchingImageId: option<JSON.t>,
  font: option<string>,
  alignCenter: option<bool>,
  hideTitleWhenPinned: option<bool>,
}

let postPagesCreateRequestSchema = S.object(s => {
    title: s.field("title", S.string),
    name: s.field("name", S.string->S.min(1)->S.pattern(%re("/^[^\\s:\\/?#\\[\\]@!$&'()*+,;=\\\\%\\x00-\\x20]{1,256}$/"))),
    summary: s.fieldOr("summary", S.nullableAsOption(S.json), None),
    content: s.field("content", S.array(S.json)),
    variables: s.field("variables", S.array(S.json)),
    script: s.field("script", S.string),
    eyeCatchingImageId: s.fieldOr("eyeCatchingImageId", S.nullableAsOption(S.json), None),
    font: s.fieldOr("font", S.nullableAsOption(S.string), None),
    alignCenter: s.fieldOr("alignCenter", S.nullableAsOption(S.bool), None),
    hideTitleWhenPinned: s.fieldOr("hideTitleWhenPinned", S.nullableAsOption(S.bool), None),
  })

type postPagesCreateResponse = KokonectLinkComponentSchemas.Page.t

let postPagesCreateResponseSchema = KokonectLinkComponentSchemas.Page.schema

/**
 * pages/create
 *
 * No description provided.
 *
 * **Credential required**: *Yes* / **Permission**: *write:pages*
 */
let postPagesCreate = (~body: postPagesCreateRequest, ~fetch: (~url: string, ~method_: string, ~body: option<JSON.t>) => Promise.t<JSON.t>): promise<postPagesCreateResponse> => {
  let jsonBody = body->S.reverseConvertToJsonOrThrow(postPagesCreateRequestSchema)
  fetch(
    ~url="/pages/create",
    ~method_="POST",
    ~body=Some(jsonBody),
  )->Promise.then(response => {
  let value = response->S.parseOrThrow(postPagesCreateResponseSchema)
  value
    ->Promise.resolve
  })
}

type postPagesShowRequest = [
  | Object({
  pageId: string,
})
  | Object({
  name: string,
  username: string,
})
]

let postPagesShowRequestSchema = S.union([S.object(s => {
    pageId: s.field("pageId", S.string),
  }), S.object(s => {
    name: s.field("name", S.string),
    username: s.field("username", S.string),
  })])

type postPagesShowResponse = KokonectLinkComponentSchemas.Page.t

let postPagesShowResponseSchema = KokonectLinkComponentSchemas.Page.schema

/**
 * pages/show
 *
 * No description provided.
 *
 * **Credential required**: *No*
 */
let postPagesShow = (~body: postPagesShowRequest, ~fetch: (~url: string, ~method_: string, ~body: option<JSON.t>) => Promise.t<JSON.t>): promise<postPagesShowResponse> => {
  let jsonBody = body->S.reverseConvertToJsonOrThrow(postPagesShowRequestSchema)
  fetch(
    ~url="/pages/show",
    ~method_="POST",
    ~body=Some(jsonBody),
  )->Promise.then(response => {
  let value = response->S.parseOrThrow(postPagesShowResponseSchema)
  value
    ->Promise.resolve
  })
}

type postPagesUpdateRequest = {
  pageId: string,
  title: option<string>,
  name: option<string>,
  summary: option<JSON.t>,
  content: option<array<JSON.t>>,
  variables: option<array<JSON.t>>,
  script: option<string>,
  eyeCatchingImageId: option<JSON.t>,
  font: option<string>,
  alignCenter: option<bool>,
  hideTitleWhenPinned: option<bool>,
}

let postPagesUpdateRequestSchema = S.object(s => {
    pageId: s.field("pageId", S.string),
    title: s.fieldOr("title", S.nullableAsOption(S.string), None),
    name: s.fieldOr("name", S.nullableAsOption(S.string->S.min(1)->S.pattern(%re("/^[^\\s:\\/?#\\[\\]@!$&'()*+,;=\\\\%\\x00-\\x20]{1,256}$/"))), None),
    summary: s.fieldOr("summary", S.nullableAsOption(S.json), None),
    content: s.fieldOr("content", S.nullableAsOption(S.array(S.json)), None),
    variables: s.fieldOr("variables", S.nullableAsOption(S.array(S.json)), None),
    script: s.fieldOr("script", S.nullableAsOption(S.string), None),
    eyeCatchingImageId: s.fieldOr("eyeCatchingImageId", S.nullableAsOption(S.json), None),
    font: s.fieldOr("font", S.nullableAsOption(S.string), None),
    alignCenter: s.fieldOr("alignCenter", S.nullableAsOption(S.bool), None),
    hideTitleWhenPinned: s.fieldOr("hideTitleWhenPinned", S.nullableAsOption(S.bool), None),
  })

type postPagesUpdateResponse = unit

/**
 * pages/update
 *
 * No description provided.
 *
 * **Credential required**: *Yes* / **Permission**: *write:pages*
 */
let postPagesUpdate = (~body: postPagesUpdateRequest, ~fetch: (~url: string, ~method_: string, ~body: option<JSON.t>) => Promise.t<JSON.t>): promise<postPagesUpdateResponse> => {
  let jsonBody = body->S.reverseConvertToJsonOrThrow(postPagesUpdateRequestSchema)
  fetch(
    ~url="/pages/update",
    ~method_="POST",
    ~body=Some(jsonBody),
  )->Promise.then(response => {
  let _ = response
  ()
    ->Promise.resolve
  })
}
