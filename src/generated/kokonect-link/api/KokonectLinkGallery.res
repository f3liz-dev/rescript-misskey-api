// SPDX-License-Identifier: MIT
// kokonect-link API for gallery
// Generated by rescript-codegen-openapi
// DO NOT EDIT - This file is auto-generated



type postGalleryPostsRequest = {
  limit: option<int>,
  sinceId: option<string>,
  untilId: option<string>,
  sinceDate: option<int>,
  untilDate: option<int>,
}

let postGalleryPostsRequestSchema = S.object(s => {
    limit: s.fieldOr("limit", S.nullableAsOption(S.int->S.min(1)->S.max(100)), None),
    sinceId: s.fieldOr("sinceId", S.nullableAsOption(S.string), None),
    untilId: s.fieldOr("untilId", S.nullableAsOption(S.string), None),
    sinceDate: s.fieldOr("sinceDate", S.nullableAsOption(S.int), None),
    untilDate: s.fieldOr("untilDate", S.nullableAsOption(S.int), None),
  })

type postGalleryPostsResponse = array<KokonectLinkComponentSchemas.GalleryPost.t>

let postGalleryPostsResponseSchema = S.array(KokonectLinkComponentSchemas.GalleryPost.schema)

/**
 * gallery/posts
 *
 * No description provided.
 *
 * **Credential required**: *No*
 */
let postGalleryPosts = (~body: postGalleryPostsRequest, ~fetch: (~url: string, ~method_: string, ~body: option<JSON.t>) => Promise.t<JSON.t>): promise<postGalleryPostsResponse> => {
  let jsonBody = body->S.reverseConvertToJsonOrThrow(postGalleryPostsRequestSchema)
  
  fetch(
    ~url="/gallery/posts",
    ~method_="POST",
    ~body=Some(jsonBody),
  )->Promise.then(response => {
  let validatedResponse = response->S.parseOrThrow(postGalleryPostsResponseSchema)
  validatedResponse
->Promise.resolve
  })
}

type postGalleryPostsCreateRequest = {
  title: string,
  description: option<JSON.t>,
  fileIds: array<string>,
  isSensitive: option<bool>,
}

let postGalleryPostsCreateRequestSchema = S.object(s => {
    title: s.field("title", S.string->S.min(1)),
    description: s.fieldOr("description", S.nullableAsOption(S.json), None),
    fileIds: s.field("fileIds", S.array(S.string)),
    isSensitive: s.fieldOr("isSensitive", S.nullableAsOption(S.bool), None),
  })

type postGalleryPostsCreateResponse = KokonectLinkComponentSchemas.GalleryPost.t

let postGalleryPostsCreateResponseSchema = KokonectLinkComponentSchemas.GalleryPost.schema

/**
 * gallery/posts/create
 *
 * No description provided.
 *
 * **Credential required**: *Yes* / **Permission**: *write:gallery*
 */
let postGalleryPostsCreate = (~body: postGalleryPostsCreateRequest, ~fetch: (~url: string, ~method_: string, ~body: option<JSON.t>) => Promise.t<JSON.t>): promise<postGalleryPostsCreateResponse> => {
  let jsonBody = body->S.reverseConvertToJsonOrThrow(postGalleryPostsCreateRequestSchema)
  
  fetch(
    ~url="/gallery/posts/create",
    ~method_="POST",
    ~body=Some(jsonBody),
  )->Promise.then(response => {
  let validatedResponse = response->S.parseOrThrow(postGalleryPostsCreateResponseSchema)
  validatedResponse
->Promise.resolve
  })
}

type postGalleryPostsShowRequest = {
  postId: string,
}

let postGalleryPostsShowRequestSchema = S.object(s => {
    postId: s.field("postId", S.string),
  })

type postGalleryPostsShowResponse = KokonectLinkComponentSchemas.GalleryPost.t

let postGalleryPostsShowResponseSchema = KokonectLinkComponentSchemas.GalleryPost.schema

/**
 * gallery/posts/show
 *
 * No description provided.
 *
 * **Credential required**: *No*
 */
let postGalleryPostsShow = (~body: postGalleryPostsShowRequest, ~fetch: (~url: string, ~method_: string, ~body: option<JSON.t>) => Promise.t<JSON.t>): promise<postGalleryPostsShowResponse> => {
  let jsonBody = body->S.reverseConvertToJsonOrThrow(postGalleryPostsShowRequestSchema)
  
  fetch(
    ~url="/gallery/posts/show",
    ~method_="POST",
    ~body=Some(jsonBody),
  )->Promise.then(response => {
  let validatedResponse = response->S.parseOrThrow(postGalleryPostsShowResponseSchema)
  validatedResponse
->Promise.resolve
  })
}

type postGalleryPostsUpdateRequest = {
  postId: string,
  title: option<string>,
  description: option<JSON.t>,
  fileIds: option<array<string>>,
  isSensitive: option<bool>,
}

let postGalleryPostsUpdateRequestSchema = S.object(s => {
    postId: s.field("postId", S.string),
    title: s.fieldOr("title", S.nullableAsOption(S.string->S.min(1)), None),
    description: s.fieldOr("description", S.nullableAsOption(S.json), None),
    fileIds: s.fieldOr("fileIds", S.nullableAsOption(S.array(S.string)), None),
    isSensitive: s.fieldOr("isSensitive", S.nullableAsOption(S.bool), None),
  })

type postGalleryPostsUpdateResponse = KokonectLinkComponentSchemas.GalleryPost.t

let postGalleryPostsUpdateResponseSchema = KokonectLinkComponentSchemas.GalleryPost.schema

/**
 * gallery/posts/update
 *
 * No description provided.
 *
 * **Credential required**: *Yes* / **Permission**: *write:gallery*
 */
let postGalleryPostsUpdate = (~body: postGalleryPostsUpdateRequest, ~fetch: (~url: string, ~method_: string, ~body: option<JSON.t>) => Promise.t<JSON.t>): promise<postGalleryPostsUpdateResponse> => {
  let jsonBody = body->S.reverseConvertToJsonOrThrow(postGalleryPostsUpdateRequestSchema)
  
  fetch(
    ~url="/gallery/posts/update",
    ~method_="POST",
    ~body=Some(jsonBody),
  )->Promise.then(response => {
  let validatedResponse = response->S.parseOrThrow(postGalleryPostsUpdateResponseSchema)
  validatedResponse
->Promise.resolve
  })
}
