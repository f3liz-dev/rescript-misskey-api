// kokonect-link API for channels
// Generated by @f3liz/rescript-autogen-openapi
// DO NOT EDIT - This file is auto-generated

S.enableJson()


type postChannelsCreateRequest = {
  name: string,
  description: option<string>,
  bannerId: option<string>,
  color: option<string>,
  isSensitive: option<bool>,
  allowRenoteToExternal: option<bool>,
}

let postChannelsCreateRequestSchema = S.object(s => {
    name: s.field("name", S.string->S.min(1)->S.max(128)),
    description: s.field("description", S.option(S.string->S.min(1)->S.max(2048))),
    bannerId: s.field("bannerId", S.option(S.string)),
    color: s.field("color", S.option(S.string->S.min(1)->S.max(16))),
    isSensitive: s.field("isSensitive", S.option(S.bool)),
    allowRenoteToExternal: s.field("allowRenoteToExternal", S.option(S.bool)),
  })

type postChannelsCreateResponse = KokonectLinkComponentSchemas.Channel.t

let postChannelsCreateResponseSchema = KokonectLinkComponentSchemas.Channel.schema

/**
channels/create

No description provided.

**Credential required**: *Yes* / **Permission**: *write:channels*
*/
let postChannelsCreate = async (~body: postChannelsCreateRequest, ~fetch: (~url: string, ~method_: string, ~body: option<JSON.t>) => Promise.t<JSON.t>): postChannelsCreateResponse => {
  let jsonBody = body->S.reverseConvertToJsonOrThrow(postChannelsCreateRequestSchema)
  let response = await fetch(
    ~url="/channels/create",
    ~method_="POST",
    ~body=Some(jsonBody),
  )
  response->S.parseOrThrow(postChannelsCreateResponseSchema)
}

type postChannelsFollowedRequest = {
  sinceId: option<string>,
  untilId: option<string>,
  sinceDate: option<int>,
  untilDate: option<int>,
  limit: option<int>,
}

let postChannelsFollowedRequestSchema = S.object(s => {
    sinceId: s.field("sinceId", S.option(S.string)),
    untilId: s.field("untilId", S.option(S.string)),
    sinceDate: s.field("sinceDate", S.option(S.int)),
    untilDate: s.field("untilDate", S.option(S.int)),
    limit: s.field("limit", S.option(S.int->S.min(1)->S.max(100))),
  })

type postChannelsFollowedResponse = array<KokonectLinkComponentSchemas.Channel.t>

let postChannelsFollowedResponseSchema = S.array(KokonectLinkComponentSchemas.Channel.schema)

/**
channels/followed

No description provided.

**Credential required**: *Yes* / **Permission**: *read:channels*
*/
let postChannelsFollowed = async (~body: postChannelsFollowedRequest, ~fetch: (~url: string, ~method_: string, ~body: option<JSON.t>) => Promise.t<JSON.t>): postChannelsFollowedResponse => {
  let jsonBody = body->S.reverseConvertToJsonOrThrow(postChannelsFollowedRequestSchema)
  let response = await fetch(
    ~url="/channels/followed",
    ~method_="POST",
    ~body=Some(jsonBody),
  )
  response->S.parseOrThrow(postChannelsFollowedResponseSchema)
}

type postChannelsOwnedRequest = {
  sinceId: option<string>,
  untilId: option<string>,
  sinceDate: option<int>,
  untilDate: option<int>,
  limit: option<int>,
}

let postChannelsOwnedRequestSchema = S.object(s => {
    sinceId: s.field("sinceId", S.option(S.string)),
    untilId: s.field("untilId", S.option(S.string)),
    sinceDate: s.field("sinceDate", S.option(S.int)),
    untilDate: s.field("untilDate", S.option(S.int)),
    limit: s.field("limit", S.option(S.int->S.min(1)->S.max(100))),
  })

type postChannelsOwnedResponse = array<KokonectLinkComponentSchemas.Channel.t>

let postChannelsOwnedResponseSchema = S.array(KokonectLinkComponentSchemas.Channel.schema)

/**
channels/owned

No description provided.

**Credential required**: *Yes* / **Permission**: *read:channels*
*/
let postChannelsOwned = async (~body: postChannelsOwnedRequest, ~fetch: (~url: string, ~method_: string, ~body: option<JSON.t>) => Promise.t<JSON.t>): postChannelsOwnedResponse => {
  let jsonBody = body->S.reverseConvertToJsonOrThrow(postChannelsOwnedRequestSchema)
  let response = await fetch(
    ~url="/channels/owned",
    ~method_="POST",
    ~body=Some(jsonBody),
  )
  response->S.parseOrThrow(postChannelsOwnedResponseSchema)
}

type postChannelsSearchRequest = {
  query: string,
  @as("type") type_: option<string>,
  sinceId: option<string>,
  untilId: option<string>,
  sinceDate: option<int>,
  untilDate: option<int>,
  limit: option<int>,
}

let postChannelsSearchRequestSchema = S.object(s => {
    query: s.field("query", S.string),
    type_: s.field("type", S.option(S.string)),
    sinceId: s.field("sinceId", S.option(S.string)),
    untilId: s.field("untilId", S.option(S.string)),
    sinceDate: s.field("sinceDate", S.option(S.int)),
    untilDate: s.field("untilDate", S.option(S.int)),
    limit: s.field("limit", S.option(S.int->S.min(1)->S.max(100))),
  })

type postChannelsSearchResponse = array<KokonectLinkComponentSchemas.Channel.t>

let postChannelsSearchResponseSchema = S.array(KokonectLinkComponentSchemas.Channel.schema)

/**
channels/search

No description provided.

**Credential required**: *No*
*/
let postChannelsSearch = async (~body: postChannelsSearchRequest, ~fetch: (~url: string, ~method_: string, ~body: option<JSON.t>) => Promise.t<JSON.t>): postChannelsSearchResponse => {
  let jsonBody = body->S.reverseConvertToJsonOrThrow(postChannelsSearchRequestSchema)
  let response = await fetch(
    ~url="/channels/search",
    ~method_="POST",
    ~body=Some(jsonBody),
  )
  response->S.parseOrThrow(postChannelsSearchResponseSchema)
}

type postChannelsShowRequest = {
  channelId: string,
}

let postChannelsShowRequestSchema = S.object(s => {
    channelId: s.field("channelId", S.string),
  })

type postChannelsShowResponse = KokonectLinkComponentSchemas.Channel.t

let postChannelsShowResponseSchema = KokonectLinkComponentSchemas.Channel.schema

/**
channels/show

No description provided.

**Credential required**: *No*
*/
let postChannelsShow = async (~body: postChannelsShowRequest, ~fetch: (~url: string, ~method_: string, ~body: option<JSON.t>) => Promise.t<JSON.t>): postChannelsShowResponse => {
  let jsonBody = body->S.reverseConvertToJsonOrThrow(postChannelsShowRequestSchema)
  let response = await fetch(
    ~url="/channels/show",
    ~method_="POST",
    ~body=Some(jsonBody),
  )
  response->S.parseOrThrow(postChannelsShowResponseSchema)
}

type postChannelsUpdateRequest = {
  channelId: string,
  name: option<string>,
  description: option<string>,
  bannerId: option<string>,
  isArchived: option<bool>,
  pinnedNoteIds: option<array<string>>,
  color: option<string>,
  isSensitive: option<bool>,
  allowRenoteToExternal: option<bool>,
}

let postChannelsUpdateRequestSchema = S.object(s => {
    channelId: s.field("channelId", S.string),
    name: s.field("name", S.option(S.string->S.min(1)->S.max(128))),
    description: s.field("description", S.option(S.string->S.min(1)->S.max(2048))),
    bannerId: s.field("bannerId", S.option(S.string)),
    isArchived: s.field("isArchived", S.option(S.bool)),
    pinnedNoteIds: s.field("pinnedNoteIds", S.option(S.array(S.string))),
    color: s.field("color", S.option(S.string->S.min(1)->S.max(16))),
    isSensitive: s.field("isSensitive", S.option(S.bool)),
    allowRenoteToExternal: s.field("allowRenoteToExternal", S.option(S.bool)),
  })

type postChannelsUpdateResponse = KokonectLinkComponentSchemas.Channel.t

let postChannelsUpdateResponseSchema = KokonectLinkComponentSchemas.Channel.schema

/**
channels/update

No description provided.

**Credential required**: *Yes* / **Permission**: *write:channels*
*/
let postChannelsUpdate = async (~body: postChannelsUpdateRequest, ~fetch: (~url: string, ~method_: string, ~body: option<JSON.t>) => Promise.t<JSON.t>): postChannelsUpdateResponse => {
  let jsonBody = body->S.reverseConvertToJsonOrThrow(postChannelsUpdateRequestSchema)
  let response = await fetch(
    ~url="/channels/update",
    ~method_="POST",
    ~body=Some(jsonBody),
  )
  response->S.parseOrThrow(postChannelsUpdateResponseSchema)
}
