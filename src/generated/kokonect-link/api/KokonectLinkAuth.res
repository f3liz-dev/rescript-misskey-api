// kokonect-link API for auth
// Generated by @f3liz/rescript-autogen-openapi
// DO NOT EDIT - This file is auto-generated



type postAuthSessionShowRequest = {
  token: string,
}

let postAuthSessionShowRequestSchema = S.object(s => {
    token: s.field("token", S.string),
  })

type postAuthSessionShowResponse = {
  id: string,
  app: KokonectLinkComponentSchemas.App.t,
  token: string,
}

let postAuthSessionShowResponseSchema = S.object(s => {
    id: s.field("id", S.string),
    app: s.field("app", KokonectLinkComponentSchemas.App.schema),
    token: s.field("token", S.string),
  })

/**
 * auth/session/show
 *
 * No description provided.
 *
 * **Credential required**: *No*
 */
let postAuthSessionShow = (~body: postAuthSessionShowRequest, ~fetch: (~url: string, ~method_: string, ~body: option<JSON.t>) => Promise.t<JSON.t>): promise<postAuthSessionShowResponse> => {
  let jsonBody = body->S.reverseConvertToJsonOrThrow(postAuthSessionShowRequestSchema)
  fetch(
    ~url="/auth/session/show",
    ~method_="POST",
    ~body=Some(jsonBody),
  )->Promise.then(response => {
  let value = response->S.parseOrThrow(postAuthSessionShowResponseSchema)
  value
    ->Promise.resolve
  })
}

type postAuthSessionUserkeyRequest = {
  appSecret: string,
  token: string,
}

let postAuthSessionUserkeyRequestSchema = S.object(s => {
    appSecret: s.field("appSecret", S.string),
    token: s.field("token", S.string),
  })

type postAuthSessionUserkeyResponse = {
  accessToken: string,
  user: KokonectLinkComponentSchemas.UserDetailedNotMe.t,
}

let postAuthSessionUserkeyResponseSchema = S.object(s => {
    accessToken: s.field("accessToken", S.string),
    user: s.field("user", KokonectLinkComponentSchemas.UserDetailedNotMe.schema),
  })

/**
 * auth/session/userkey
 *
 * No description provided.
 *
 * **Credential required**: *No*
 */
let postAuthSessionUserkey = (~body: postAuthSessionUserkeyRequest, ~fetch: (~url: string, ~method_: string, ~body: option<JSON.t>) => Promise.t<JSON.t>): promise<postAuthSessionUserkeyResponse> => {
  let jsonBody = body->S.reverseConvertToJsonOrThrow(postAuthSessionUserkeyRequestSchema)
  fetch(
    ~url="/auth/session/userkey",
    ~method_="POST",
    ~body=Some(jsonBody),
  )->Promise.then(response => {
  let value = response->S.parseOrThrow(postAuthSessionUserkeyResponseSchema)
  value
    ->Promise.resolve
  })
}
